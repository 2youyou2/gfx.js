{"version":3,"sources":["./dist/gfx.dev.js"],"names":["gfx","enums","USAGE_STATIC","USAGE_DYNAMIC","USAGE_STREAM","INDEX_FMT_UINT8","INDEX_FMT_UINT16","INDEX_FMT_UINT32","ATTR_POSITION","ATTR_NORMAL","ATTR_TANGENT","ATTR_BITANGENT","ATTR_WEIGHT","ATTR_INDICES","ATTR_COLOR","ATTR_COLOR0","ATTR_COLOR1","ATTR_UV","ATTR_UV0","ATTR_UV1","ATTR_UV2","ATTR_UV3","ATTR_UV4","ATTR_UV5","ATTR_UV6","ATTR_UV7","ATTR_TYPE_INT8","ATTR_TYPE_UINT8","ATTR_TYPE_INT16","ATTR_TYPE_UINT16","ATTR_TYPE_INT32","ATTR_TYPE_UINT32","ATTR_TYPE_FLOAT32","FILTER_NEAREST","FILTER_LINEAR","FILTER_NEAREST_MIPMAP_NEAREST","FILTER_LINEAR_MIPMAP_NEAREST","FILTER_NEAREST_MIPMAP_LINEAR","FILTER_LINEAR_MIPMAP_LINEAR","WRAP_REPEAT","WRAP_CLAMP","WRAP_MIRROR","TEXTURE_FMT_DXT1","TEXTURE_FMT_DXT3","TEXTURE_FMT_DXT5","TEXTURE_FMT_ETC1","TEXTURE_FMT_PVRTC_2BPP_RGB_1","TEXTURE_FMT_PVRTC_2BPP_RGBA_1","TEXTURE_FMT_PVRTC_4BPP_RGB_1","TEXTURE_FMT_PVRTC_4BPP_RGBA_1","TEXTURE_FMT_A8","TEXTURE_FMT_L8","TEXTURE_FMT_L8_A8","TEXTURE_FMT_R5_G6_B5","TEXTURE_FMT_R5_G5_B5_A1","TEXTURE_FMT_R4_G4_B4_A4","TEXTURE_FMT_RGB8","TEXTURE_FMT_RGBA8","TEXTURE_FMT_RGB16F","TEXTURE_FMT_RGBA16F","TEXTURE_FMT_RGB32F","TEXTURE_FMT_RGBA32F","TEXTURE_FMT_R32F","TEXTURE_FMT_111110F","TEXTURE_FMT_SRGB","TEXTURE_FMT_SRGBA","TEXTURE_FMT_DEPTH","TEXTURE_FMT_DEPTHSTENCIL","attrTypeBytes","attrType","console","warn","IndexBuffer","[object Object]","device","format","usage","data","numIndices","persist","this","_device","_format","_usage","_persist","bytes","_bytes","_id","_gl","createBuffer","_data","update","_vram","ib","error","gl","deleteBuffer","offset","byteLength","glUsage","bindBuffer","ELEMENT_ARRAY_BUFFER","bufferData","bufferSubData","set","VertexBuffer","numVertices","vb","ARRAY_BUFFER","Shader","options","_attributes","_uniforms","_samplers","_linked","_vertSource","vert","_fragSource","frag","_program","vertShader","_createShader","VERTEX_SHADER","fragShader","FRAGMENT_SHADER","program","createProgram","attachShader","linkProgram","failed","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteShader","numAttributes","ACTIVE_ATTRIBUTES","i","info","getActiveAttrib","location","getAttribLocation","name","push","type","numUniforms","ACTIVE_UNIFORMS","getActiveUniform","getUniformLocation","SAMPLER_2D","SAMPLER_CUBE","localId","deleteProgram","src","shader","createShader","shaderSource","compileShader","Texture","_width","_height","_mipmaps","_anisotropy","_minFilter","_magFilter","_wrapS","_wrapT","deleteTexture","tex","Texture2D","super","width","undefined","height","mipmpas","anisotropy","minFilter","magFilter","wrapS","wrapT","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","_setTexInfo","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","hasExt","TEXTURE_MAX_ANISOTROPY_EXT","_anisotropic","hint","GENERATE_MIPMAP_HINT","NICEST","generateMipmap","Device","canvasEL","opts","getContext","err","_extensions","texture","_initExtensions","extensions","length","ext","getExtension","e","base","count","Object","assign"],"mappings":"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","file":"./dist/gfx.min.js"}