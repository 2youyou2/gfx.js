{"version":3,"sources":["./dist/gfx.dev.js"],"names":["gfx","enums","USAGE_STATIC","USAGE_DYNAMIC","USAGE_STREAM","INDEX_FMT_UINT8","INDEX_FMT_UINT16","INDEX_FMT_UINT32","ATTR_POSITION","ATTR_NORMAL","ATTR_TANGENT","ATTR_BITANGENT","ATTR_WEIGHT","ATTR_INDICES","ATTR_COLOR","ATTR_COLOR0","ATTR_COLOR1","ATTR_UV","ATTR_UV0","ATTR_UV1","ATTR_UV2","ATTR_UV3","ATTR_UV4","ATTR_UV5","ATTR_UV6","ATTR_UV7","ATTR_TYPE_INT8","ATTR_TYPE_UINT8","ATTR_TYPE_INT16","ATTR_TYPE_UINT16","ATTR_TYPE_INT32","ATTR_TYPE_UINT32","ATTR_TYPE_FLOAT32","FILTER_NEAREST","FILTER_LINEAR","FILTER_NEAREST_MIPMAP_NEAREST","FILTER_LINEAR_MIPMAP_NEAREST","FILTER_NEAREST_MIPMAP_LINEAR","FILTER_LINEAR_MIPMAP_LINEAR","WRAP_REPEAT","WRAP_CLAMP","WRAP_MIRROR","TEXTURE_FMT_DXT1","TEXTURE_FMT_DXT3","TEXTURE_FMT_DXT5","TEXTURE_FMT_ETC1","TEXTURE_FMT_PVRTC_2BPP_RGB_1","TEXTURE_FMT_PVRTC_2BPP_RGBA_1","TEXTURE_FMT_PVRTC_4BPP_RGB_1","TEXTURE_FMT_PVRTC_4BPP_RGBA_1","TEXTURE_FMT_A8","TEXTURE_FMT_L8","TEXTURE_FMT_L8_A8","TEXTURE_FMT_R5_G6_B5","TEXTURE_FMT_R5_G5_B5_A1","TEXTURE_FMT_R4_G4_B4_A4","TEXTURE_FMT_RGB8","TEXTURE_FMT_RGBA8","TEXTURE_FMT_RGB16F","TEXTURE_FMT_RGBA16F","TEXTURE_FMT_RGB32F","TEXTURE_FMT_RGBA32F","TEXTURE_FMT_R32F","TEXTURE_FMT_111110F","TEXTURE_FMT_SRGB","TEXTURE_FMT_SRGBA","TEXTURE_FMT_DEPTH","TEXTURE_FMT_DEPTHSTENCIL","attrTypeBytes","attrType","console","warn","IndexBuffer","[object Object]","device","format","usage","data","numIndices","persist","this","_device","_format","_usage","_persist","bytes","_bytes","_id","_gl","createBuffer","_data","update","_vram","ib","gl","deleteBuffer","offset","error","byteLength","glUsage","bindBuffer","ELEMENT_ARRAY_BUFFER","bufferData","bufferSubData","set","VertexBuffer","numVertices","vb","ARRAY_BUFFER","Shader","Texture","_width","_height","_mipmaps","_anisotropy","_minFilter","_magFilter","_wrapS","_wrapT","deleteTexture","tex","Texture2D","options","super","width","undefined","height","mipmpas","anisotropy","minFilter","magFilter","wrapS","wrapT","info","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","hasExt","TEXTURE_MAX_ANISOTROPY_EXT","anisotropic","genMipmaps","hint","GENERATE_MIPMAP_HINT","mipmapHint","generateMipmap","Device","canvasEL","opts","getContext","err","_extensions","texture","_initExtensions","extensions","i","length","name","ext","getExtension","e","base","count","Object","assign"],"mappings":"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","file":"./dist/gfx.min.js"}